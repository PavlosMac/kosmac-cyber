<mat-sidenav-container class="sidenav-container">
  <!-- Sidebar -->
  <mat-sidenav 
    #drawer 
    class="sidenav" 
    fixedInViewport 
    [attr.role]="'navigation'"
    [mode]="'over'"
    [opened]="isDrawerOpen">
    
    <!-- Sidebar Header -->
    <div class="sidenav-header">
      <h3>Kosmac-Cyber</h3>
    </div>
    
    <!-- Navigation Menu -->
    <mat-nav-list>
      <a mat-list-item routerLink="/" routerLinkActive="active" (click)="toggleDrawer()">
        <mat-icon matListItemIcon>home</mat-icon>
        <span matListItemTitle>Home</span>
      </a>

      <!-- Blog Submenu -->
      <button mat-list-item (click)="toggleBlogMenu()" class="submenu-toggle">
        <mat-icon matListItemIcon>{{ isBlogMenuOpen ? 'expand_less' : 'expand_more' }}</mat-icon>
        <span matListItemTitle>Blog</span>
      </button>

      <div class="submenu" [class.open]="isBlogMenuOpen">
        <a mat-list-item routerLink="/blog/angular" routerLinkActive="active" (click)="toggleDrawer()" class="submenu-item">
          <span matListItemTitle>Returning to Angular</span>
        </a>

        <a mat-list-item routerLink="/blog/signals" routerLinkActive="active" (click)="toggleDrawer()" class="submenu-item">
          <span matListItemTitle>Angular Signals</span>
        </a>

        <a mat-list-item routerLink="/blog/pqc-nginx" routerLinkActive="active" (click)="toggleDrawer()" class="submenu-item">
          <span matListItemTitle>Post-Quantum Nginx</span>
        </a>

        <a mat-list-item routerLink="/blog/kyber-crystals" routerLinkActive="active" (click)="toggleDrawer()" class="submenu-item">
          <span matListItemTitle>Crystals-KYBER</span>
        </a>
      </div>

      <a mat-list-item routerLink="/services" routerLinkActive="active" (click)="toggleDrawer()">
        <mat-icon matListItemIcon>business</mat-icon>
        <span matListItemTitle>Services</span>
      </a>
    </mat-nav-list>
  </mat-sidenav>
  
  <!-- Main Content Area -->
  <mat-sidenav-content>
    <!-- Top Toolbar -->
    <mat-toolbar color="primary" class="toolbar">
      <button
        type="button"
        aria-label="Toggle sidenav"
        mat-icon-button
        (click)="toggleDrawer()"
        class="menu-button">
        <mat-icon aria-label="Side nav toggle icon">menu</mat-icon>
      </button>
      <span class="toolbar-title">Kosmac Cyber</span>
    </mat-toolbar>
    
    <!-- Content will be projected here -->
    <div class="content">
      <ng-content></ng-content>
    </div>
  </mat-sidenav-content>
</mat-sidenav-container>